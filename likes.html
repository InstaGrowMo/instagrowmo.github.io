<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <title>Buy Instagram Likes - InstaGrowMo</title>
    <style>
        /* Inherit styles from the main page with some specific adjustments */
        :root {
            --primary-color: #5a55ca;
            --secondary-color: #00acc1;
            --accent-color: #ff7043;
            --text-color-primary: #212529;
            --text-color-secondary: #495057;
            --bg-color-primary: #f8f9fa;
            --bg-color-secondary: #fff;
            --box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08); /* More subtle shadow */
            --border-radius: 8px;
            --transition: all 0.3s ease-in-out;
        }

        body {
            font-family: 'Nunito', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color-primary);
            color: var(--text-color-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-top: 0;
            line-height: 1.2;
        }

        a {
            text-decoration: none;
            color: var(--accent-color);
            transition: color 0.3s ease;
        }

        a:hover {
            color: rgba(255, 112, 67, 0.8);
        }

        .top-panel {
            background-color: var(--bg-color-secondary);
            padding: 15px 20px;
            text-align: left;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .top-panel h1 {
            margin: 0;
            font-size: 1.8em;
            letter-spacing: -1px;
            color: var(--primary-color);
        }
        .home-button {
            background-color: var(--primary-color);
            color: var(--bg-color-secondary);
            padding: 10px 15px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: bold;
            font-size: 0.95em;
            text-decoration: none;
            transition: background-color 0.3s ease, transform 0.2s ease-in-out;
        }

        .home-button:hover {
             background-color: rgba(90, 85, 202, 0.9);
            transform: scale(1.05);
        }
        .service-page-container {
            padding: 30px 15px;
            background-color: var(--bg-color-primary);
            text-align: center;
        }

         .service-info {
             max-width: 90%;
             margin: 20px auto;
             padding: 25px;
             background-color: var(--bg-color-secondary);
             border-radius: var(--border-radius);
             box-shadow: var(--box-shadow);
             text-align: center;
         }


        .service-title {
            font-size: 2.4em;
            color: var(--secondary-color);
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            letter-spacing: -1px;
        }

        .service-info p {
            font-size: 1em;
            color: var(--text-color-secondary);
            line-height: 1.6;
            margin-bottom: 15px;
            text-align: left;
        }

        .order-form {
            max-width: 90%;
            margin: 20px auto;
            padding: 25px;
            background-color: var(--bg-color-secondary);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            text-align: left;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--text-color-primary);
            font-size: 0.95em;
        }

        .form-group input[type="text"],
        .form-group input[type="number"] {
            width: calc(100% - 22px);
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 0.95em;
            box-sizing: border-box;
        }

        .form-group input.error {
            border-color: red;
        }

        .error-message {
            color: red;
            font-size: 0.85em;
            margin-top: 3px;
        }

        /* Hide number input arrows */
        .form-group input[type="number"]::-webkit-inner-spin-button,
        .form-group input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .form-group input[type="number"] {
            -moz-appearance: textfield;
        }

        /* Styles for dynamically added order items */
        .order-item {
            border: 1px solid #e0e0e0;
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            background-color: #fcfcfc;
            position: relative; /* For the remove button positioning */
        }
        .order-item:first-child {
            border: none; /* No border for the first (non-removable) item */
            padding: 0;
            margin-bottom: 15px;
            background-color: transparent;
        }

        .order-item .remove-item-button {
            background-color: #dc3545; /* Red color */
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85em;
            transition: background-color 0.3s ease;
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 10;
        }

        .order-item .remove-item-button:hover {
            background-color: #c82333;
        }

        .price-info {
            text-align: left; /* Changed to left for individual items */
            margin-bottom: 10px;
            color: var(--text-color-secondary);
            font-size: 0.85em;
        }

        .order-value {
            text-align: center;
            font-size: 1.1em;
            font-weight: bold;
            color: var(--secondary-color);
            margin-top: 20px; /* Adjusted margin */
            margin-bottom: 15px;
        }

        .order-button, .pay-now-button {
            background-color: var(--accent-color);
            color: var(--bg-color-secondary);
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.95em;
            transition: background-color 0.3s ease, transform 0.2s ease-in-out;
            width: 100%;
            text-align: center;
            display: block;
            margin-top: 15px;
            text-decoration: none;
            box-sizing: border-box;
        }

        .pay-now-button {
            background-color: #4CAF50; /* Green for payment button */
            margin-top: 10px;
        }


        .order-button:hover, .pay-now-button:hover {
             background-color: rgba(34, 34, 34, 0.9);
            transform: scale(1.01);
        }

        .whatsapp-icon {
            margin-right: 6px;
        }

        .payment-info {
            text-align: center;
            color: var(--text-color-secondary);
            font-size: 0.8em;
            margin-top: 10px;
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .important-note {
            font-weight: bold;
            color: var(--primary-color);
        }

        .warning-message {
            background-color: #ffe0b2;
            color: #d84315;
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            text-align: left;
            font-size: 0.9em;
            border: 1px solid #ffb74d;
            max-width: 90%;
            margin: 20px auto;
        }

        .warning-message strong {
            font-weight: bold;
            color: var(--accent-color);
        }

        .discount-note {
            background-color: #e3f2fd;
            color: #1e88e5;
            padding: 10px;
            border-radius: var(--border-radius);
            margin-bottom: 10px;
            text-align: left;
            font-size: 0.9em;
            border: 1px solid #bbdefb;
        }

        .discount-note strong {
            font-weight: bold;
            color: var(--secondary-color);
        }

        footer {
            background-color: var(--bg-color-secondary);
            padding: 15px;
            text-align: center;
            color: var(--text-color-secondary);
            font-size: 0.75em;
            border-top: 1px solid #eee;
            margin-top: 20px;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .top-panel h1 {
                font-size: 1.6em;
            }
            .service-page-container {
                padding: 20px 10px;
            }
            .service-info, .order-form, .warning-message {
                padding: 20px;
                 max-width: 95%;
            }
            .service-title {
                font-size: 2em;
            }
        }

        @media (max-width: 576px) {
            .top-panel h1 {
                font-size: 1.4em;
            }
            .service-info, .order-form, .warning-message {
                padding: 15px;
                 max-width: 100%;
            }
            .service-title {
                font-size: 1.8em;
            }
            .form-group label {
                font-size: 0.9em;
            }
            .form-group input[type="text"],
            .form-group input[type="number"] {
                font-size: 0.9em;
            }
            .price-info, .order-value, .payment-info, footer {
                font-size: 0.75em;
            }
            .order-button, .pay-now-button {
                font-size: 0.9em;
                padding: 8px 15px;
            }
        }

        @media (max-width: 400px) {
            .top-panel h1 {
                font-size: 1.2em;
            }
            .service-title {
                font-size: 1.6em;
            }
            .order-value {
                font-size: 1.2em;
            }
            .order-button, .pay-now-button {
                font-size: 0.8em;
                padding: 8px 12px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" xintegrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="top-panel">
        <h1>InstaGrowMo</h1>
        <a href="/" class="home-button">Home</a>
    </div>

    <div class="service-page-container">
        <div class="service-info">
            <h2 class="service-title">Instagram Global Likes</h2>
            <p>Increase the number of likes on your posts to enhance perceived popularity.</p>
        </div>

        <div class="order-form">
            <h3>Place Your Order</h3>

            <div class="form-group">
                <label for="customerName">Your Name (Optional):</label>
                <input type="text" id="customerName" name="customerName" placeholder="Enter your name">
            </div>

            <div id="orderItemsContainer">
                </div>

            <button id="addLinkButton" class="order-button" style="background-color: var(--secondary-color); margin-top: 15px; margin-bottom: 20px;">
                <i class="fas fa-plus-circle"></i> Add More Link
            </button>
            
            <p class="price-info">Price per like: ₹<span id="pricePerLike">0.00</span></p>
            <p class="price-info">Minimum quantity per link: <span id="minLikesDisplay">0</span></p>
            <div class="order-value">
                Total Order Value: ₹<span id="orderValue">0.00</span>
            </div>

            <div class="discount-note">
                <p><strong>Discount Offer:</strong> Enjoy a discount of <span id="discountPercentDisplay">50</span>% on any individual link's quantity when you purchase more than <span id="discountThresholdDisplay">2,000</span> likes for that link.</p>
                <p><strong>Discount Offer [Hindi Translation]:</strong> किसी भी व्यक्तिगत लिंक की संख्या पर <span id="discountPercentDisplayHindi">50</span>% की छूट का आनंद लें, जब आप उस लिंक के लिए <span id="discountThresholdDisplayHindi">2,000</span> से ज़्यादा लाइक्स खरीदते हैं।</p>
            </div>

            <p class="payment-info">
                <span class="important-note">Important:</span> Please note that this is a prepaid service. After you send us your order via WhatsApp, we will request you to send the payment first. Your order will be processed quickly once we receive the payment and confirm your Instagram post details.
            </p>

            <button id="orderButton" class="order-button" style="margin-top: 20px;">
                <i class="fab fa-whatsapp whatsapp-icon"></i> Send Order Details on WhatsApp
            </button>
            <div id="paymentInstructions"
                style="display: none; text-align: center; margin-top: 20px; padding: 15px; background-color: #e8f5e9; border-radius: var(--border-radius); border: 1px solid #c8e6c9;">
                <h4 style="color: #2e7d32; margin-top: 0;">Payment Instructions</h4>
                <p style="word-break: break-all;">UPI ID: <strong id="upiIdDisplay"></strong></p>
                <p style="color: #558b2f; font-size: 0.9em;">Click the button below to pay directly via UPI app.</p>
                <a href="#" id="payNowButton" class="pay-now-button">
                    <i class="fas fa-qrcode whatsapp-icon"></i> Pay Now
                </a>
                <p style="color: #388e3c; font-size: 0.85em; margin-top: 10px;">After payment, please share the screenshot on WhatsApp for quick processing.</p>
            </div>
        </div>
        <div class="warning-message">
            <strong>Important:</strong> To use our Instagram Likes service, your Instagram account must be <strong>public</strong>. Please ensure your account is set to public before placing your order. You can switch back to a private account after the service is completed. <br><br>
            <strong>Post/Reel/Video Link:</strong> If you delete, archive, or make any changes to the target link of the post/reel/video after placing the order, you will be responsible for this, and InstaGrowMo will not initiate any refunds. Once a service has started, no refund will be provided. If InstaGrowMo cannot provide the service, we will refund your money back to you, or you can order another service. Do not hide Likes, Shares, Comments from the targetted post/reel for which you want to order the service. Please consider all these points carefully before placing your order.
        </div>
    </div>

    <footer>
        <p>&copy; 2025 InstaGrowMo. All rights reserved.</p>
        <p><a href="/privacy-policy.html">Privacy Policy</a> | <a href="/terms-conditions.html">Terms of Service</a></p>
    </footer>

    <script>
        // Service Configuration (Simplified as there's only one type of Likes service)
        const currentServiceConfig = {
            key: "global-likes",
            name: "Global Likes",
            title: "Instagram Global Likes",
            description: "Increase the number of likes on your posts to enhance perceived popularity.",
            pricePerLike: 0.05,
            minimumOrderQuantity: 50,
            discountThresholdQuantity: 2000,
            discountPercentage: 20
        };

        // UPI ID for payment
        const upiId = "abhinit16@fam"; // Your UPI ID
        // WhatsApp number
        const whatsappNumber = "916399813670"; // WhatsApp number without '+'

        // Get references to static HTML elements
        const customerNameInput = document.getElementById('customerName');
        const orderValueSpan = document.getElementById('orderValue');
        
        const pricePerLikeSpan = document.getElementById('pricePerLike');
        const minLikesDisplaySpan = document.getElementById('minLikesDisplay');
        const discountPercentDisplaySpan = document.getElementById('discountPercentDisplay');
        const discountThresholdDisplaySpan = document.getElementById('discountThresholdDisplay');
        const discountThresholdDisplayHindiSpan = document.getElementById('discountThresholdDisplayHindi');
        const discountPercentDisplayHindiSpan = document.getElementById('discountPercentDisplayHindi');
        const orderButton = document.getElementById('orderButton');
        const payNowButton = document.getElementById('payNowButton');
        const paymentInstructionsDiv = document.getElementById('paymentInstructions');
        const upiIdDisplaySpan = document.getElementById('upiIdDisplay');

        const orderItemsContainer = document.getElementById('orderItemsContainer');
        const addLinkButton = document.getElementById('addLinkButton');

        // --- Array to hold all order items ---
        let orderItems = [];
        let itemCounter = 0; // To generate unique IDs for new items

        /**
         * Creates the HTML structure for a single order item.
         * @param {string} itemId - Unique ID for the item.
         * @param {boolean} isRemovable - True if a remove button should be included.
         * @returns {string} HTML string for the order item.
         */
        function createOrderItemHtml(itemId, isRemovable) {
            return `
                <div class="order-item" data-item-id="${itemId}">
                    ${isRemovable ? `<button type="button" class="remove-item-button" data-item-id="${itemId}">Remove</button>` : ''}
                    <div class="form-group">
                        <label for="link_${itemId}">Instagram Post/Reel Link (URL):</label>
                        <input type="text" id="link_${itemId}" class="link-input" placeholder="Enter your Instagram post/reel link (URL)" required data-item-id="${itemId}">
                        <p class="error-message link-error" id="link_${itemId}_error"></p>
                    </div>
                    <div class="form-group">
                        <label for="quantity_${itemId}">Quantity:</label>
                        <input type="number" id="quantity_${itemId}" class="quantity-input" min="1" placeholder="Enter quantity (e.g., 400)" data-item-id="${itemId}">
                        <p class="error-message quantity-error" id="quantity_${itemId}_error"></p>
                    </div>
                    <p class="price-info">Sub-total: ₹<span class="item-sub-total" id="sub_total_${itemId}">0.00</span></p>
                </div>
            `;
        }

        /**
         * Adds a new order item to the DOM and the orderItems array.
         * @param {boolean} isInitial - True if this is the first (non-removable) item.
         */
        function addOrderItem(isInitial = false) {
            const itemId = `item-${itemCounter++}`;
            const itemHtml = createOrderItemHtml(itemId, !isInitial);
            orderItemsContainer.insertAdjacentHTML('beforeend', itemHtml);

            // Add to our JS array tracking items
            orderItems.push({
                id: itemId,
                link: '',
                quantity: 0,
                subTotal: 0,
                isValidLink: false,
                isValidQuantity: false,
                isLinkTouched: false,    // New property
                isQuantityTouched: false // New property
            });

            // Attach event listeners to the newly added inputs
            const newLinkInput = document.getElementById(`link_${itemId}`);
            const newQuantityInput = document.getElementById(`quantity_${itemId}`);
            const newRemoveButton = document.querySelector(`.remove-item-button[data-item-id="${itemId}"]`);

            if (newLinkInput) {
                newLinkInput.addEventListener('input', (event) => {
                    const item = orderItems.find(i => i.id === itemId);
                    if (item) item.isLinkTouched = true; // Mark as touched on input
                    updateOrderItem(itemId, 'link', event.target.value);
                });
                newLinkInput.addEventListener('blur', (event) => { // Mark as touched on blur
                    const item = orderItems.find(i => i.id === itemId);
                    if (item) item.isLinkTouched = true;
                    calculateOverallOrder(); // Re-calculate to show error on blur if invalid
                });
            }
            if (newQuantityInput) {
                newQuantityInput.addEventListener('input', (event) => {
                    const item = orderItems.find(i => i.id === itemId);
                    if (item) item.isQuantityTouched = true; // Mark as touched on input
                    updateOrderItem(itemId, 'quantity', event.target.value);
                });
                 newQuantityInput.addEventListener('blur', (event) => { // Mark as touched on blur
                    const item = orderItems.find(i => i.id === itemId);
                    if (item) item.isQuantityTouched = true;
                    calculateOverallOrder(); // Re-calculate to show error on blur if invalid
                });
            }
            if (newRemoveButton) {
                newRemoveButton.addEventListener('click', () => removeOrderItem(itemId));
            }
            
            // Initial call to calculate overall order to display total, but not errors
            calculateOverallOrder(false); // Do not show errors on initial add
        }

        /**
         * Removes an order item from the DOM and the orderItems array.
         * @param {string} itemId - The ID of the item to remove.
         */
        function removeOrderItem(itemId) {
            const itemElement = document.querySelector(`.order-item[data-item-id="${itemId}"]`);
            if (itemElement) {
                itemElement.remove();
            }
            orderItems = orderItems.filter(item => item.id !== itemId);
            // Re-calculate overall order value after removing an item
            calculateOverallOrder();
        }

        /**
         * Updates a specific field of an order item and triggers overall recalculation.
         * @param {string} itemId - The ID of the item to update.
         * @param {string} field - The field to update ('link' or 'quantity').
         * @param {*} value - The new value for the field.
         */
        function updateOrderItem(itemId, field, value) {
            const itemIndex = orderItems.findIndex(item => item.id === itemId);
            if (itemIndex > -1) {
                orderItems[itemIndex][field] = value;
                calculateOverallOrder(); // Recalculate everything when an item changes
            }
        }

        /**
         * Calculates the total order value based on all items and applies validation.
         * @param {boolean} showAllErrors - If true, all validation errors will be displayed,
         * even for untouched fields. Used for submission.
         */
        function calculateOverallOrder(showAllErrors = false) {
            let grandTotal = 0;
            let allItemsValid = true;

            if (orderItems.length === 0) {
                allItemsValid = false; // No items means no valid order
            }

            orderItems.forEach(item => {
                const linkInput = document.getElementById(`link_${item.id}`);
                const quantityInput = document.getElementById(`quantity_${item.id}`);
                const linkError = document.getElementById(`link_${item.id}_error`);
                const quantityError = document.getElementById(`quantity_${item.id}_error`);
                const subTotalSpan = document.getElementById(`sub_total_${item.id}`);

                // Reset sub-total for recalculation
                item.subTotal = 0; 

                // Reset errors and styling only if not showing all errors (i.e., on input/blur)
                if (!showAllErrors) {
                    linkInput.classList.remove('error');
                    linkError.textContent = '';
                    quantityInput.classList.remove('error');
                    quantityError.textContent = '';
                }
                
                item.isValidLink = true; // Assume valid until proven otherwise
                item.isValidQuantity = true; // Assume valid until proven otherwise

                // Validate Link
                if (item.link.trim() === '') {
                    item.isValidLink = false;
                    if (item.isLinkTouched || showAllErrors) { // Only show error if touched or on submit
                        linkInput.classList.add('error');
                        linkError.textContent = "Please enter Instagram post/reel link (URL).";
                    }
                    allItemsValid = false;
                } else {
                    linkInput.classList.remove('error');
                    linkError.textContent = '';
                }

                // Validate Quantity
                const quantity = parseFloat(item.quantity);
                if (isNaN(quantity) || quantity <= 0) {
                    item.isValidQuantity = false;
                    if (item.isQuantityTouched || showAllErrors) { // Only show error if touched or on submit
                        quantityInput.classList.add('error');
                        quantityError.textContent = "Please enter a valid positive number.";
                    }
                    allItemsValid = false;
                } else if (quantity < currentServiceConfig.minimumOrderQuantity) {
                    item.isValidQuantity = false;
                    if (item.isQuantityTouched || showAllErrors) { // Only show error if touched or on submit
                        quantityInput.classList.add('error');
                        quantityError.textContent = `Minimum quantity is ${currentServiceConfig.minimumOrderQuantity}.`;
                    }
                    allItemsValid = false;
                } else {
                    quantityInput.classList.remove('error');
                    quantityError.textContent = '';
                }

                // Calculate sub-total for this item if both link and quantity are valid
                if (item.isValidLink && item.isValidQuantity) {
                    let itemValue = quantity * currentServiceConfig.pricePerLike;
                    if (quantity >= currentServiceConfig.discountThresholdQuantity) {
                        const discountAmount = itemValue * (currentServiceConfig.discountPercentage / 100);
                        itemValue -= discountAmount;
                    }
                    item.subTotal = itemValue;
                    subTotalSpan.textContent = itemValue.toFixed(2);
                    grandTotal += itemValue;
                } else {
                    subTotalSpan.textContent = '0.00'; // If not valid, sub-total is 0
                }
            });

            orderValueSpan.textContent = grandTotal.toFixed(2);

            // Control payment instructions visibility and Pay Now button link
            if (allItemsValid && grandTotal > 0) {
                paymentInstructionsDiv.style.display = 'block';
                updatePayNowButtonLink(grandTotal);
            } else {
                paymentInstructionsDiv.style.display = 'none';
                payNowButton.href = "#"; // Disable UPI link if not valid
            }

            return allItemsValid; // Return validation status
        }

        // --- Function to update the href of the Pay Now button (UPI link) ---
        function updatePayNowButtonLink(totalAmount) {
            if (totalAmount > 0) {
                // Collect details of all valid order items for the transaction note
                const orderDetails = orderItems
                    .filter(item => item.isValidLink && item.isValidQuantity)
                    .map((item, index) => `${currentServiceConfig.name} #${index + 1} Qty:${item.quantity}`)
                    .join('; ');
                
                const transactionNote = `Order: ${orderDetails.substring(0, 80)}`; // Truncate if too long
                const upiLink = `upi://pay?pa=${upiId}&am=${totalAmount.toFixed(2)}&tn=${encodeURIComponent(transactionNote)}`;
                payNowButton.href = upiLink;
            } else {
                payNowButton.href = "#";
            }
        }

        // --- Event listener for "Add More Link" button ---
        addLinkButton.addEventListener('click', () => addOrderItem(false));

        // --- Event listener for the WhatsApp order button click ---
        orderButton.addEventListener('click', function() {
            // Validate all fields and show errors
            const allItemsAreValid = calculateOverallOrder(true); 

            if (orderItems.length === 0) {
                alert("Please add at least one Instagram post/reel link and quantity to place an order.");
                return;
            }

            if (!allItemsAreValid) {
                alert("Please correct the errors in your order details before sending.");
                return;
            }

            const customerName = customerNameInput.value.trim();
            const grandTotal = parseFloat(orderValueSpan.textContent);

            // Construct the UPI link for the WhatsApp message
            const orderDetailsForUpiLink = orderItems
                .filter(item => item.isValidLink && item.isValidQuantity)
                .map((item, index) => `${currentServiceConfig.name} #${index + 1} Qty:${item.quantity}`)
                .join('; ');
            const transactionNoteForMessage = `Order: ${orderDetailsForUpiLink.substring(0, 80)}`;
            const upiLinkForMessage = `upi://pay?pa=${upiId}&am=${grandTotal.toFixed(2)}&tn=${encodeURIComponent(transactionNoteForMessage)}`;

            let message = `Hello InstaGrowMo Team,\n\nI would like to place an order for Instagram ${currentServiceConfig.name} with multiple links:\n\n`;
            if (customerName) {
                 message += `Customer Name: ${customerName}\n`;
            }
            
            // Add details for each item
            orderItems.forEach((item, index) => {
                if (item.isValidLink && item.isValidQuantity) { // Only include valid items
                    message += `\n---------- ITEM ${index + 1} ----------\n`;
                    message += `Link/URL: ${item.link}\n`;
                    message += `Quantity: ${item.quantity}\n`;
                    message += `Calculated Sub-total: ₹${item.subTotal.toFixed(2)}\n`;
                }
            });

            message += `\n---------- TOTAL ORDER ----------\n`;
            message += `Total Calculated Order Value: ₹${grandTotal.toFixed(2)}\n----------\n`;
            
            message += `To complete your order, please make the payment of ₹${grandTotal.toFixed(2)} using the UPI link below or by returning to the website if the link doesn't work or you can wait till InstaGrowMo support team message you.\n\n`;
            message += `Order Payment Link:\n${upiLinkForMessage}\n\n`;
            message += `भुगतान पूरा करने के लिए, कृपया ऊपर दिए गए UPI लिंक का उपयोग करके ₹${grandTotal.toFixed(2)} का भुगतान करें या यदि लिंक काम नहीं कर रहा है तो वेबसाइट पर वापस जाएं या फिर थोड़ी देर में InstaGrowMo की support team आपको message करेगी। \n`;
            message += `----------\n\n`;
            message += `\n\nThank you!`;

            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        });

        // --- Initial Page Setup ---
        document.addEventListener('DOMContentLoaded', () => {
            addOrderItem(true); // Add the initial (non-removable) order item
            // Initialize discount/price display
            pricePerLikeSpan.textContent = currentServiceConfig.pricePerLike.toFixed(3);
            minLikesDisplaySpan.textContent = currentServiceConfig.minimumOrderQuantity;
            discountPercentDisplaySpan.textContent = currentServiceConfig.discountPercentage;
            discountThresholdDisplaySpan.textContent = currentServiceConfig.discountThresholdQuantity.toLocaleString();
            discountThresholdDisplayHindiSpan.textContent = currentServiceConfig.discountThresholdQuantity.toLocaleString();
            discountPercentDisplayHindiSpan.textContent = currentServiceConfig.discountPercentage;
            upiIdDisplaySpan.textContent = upiId;
            calculateOverallOrder(false); // Initial calculation, but without showing errors immediately
        });

    </script>

</body>
</html>



